(this.webpackJsonpinotec=this.webpackJsonpinotec||[]).push([[0],{39:function(e,t,a){},41:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(28),r=a.n(s),l=(a(39),a(2)),i=a.n(l),o=a(5),d=a(29),b=a(30),u=a(34),j=a(33),m=(a(41),Object(c.createContext)()),h=a(3),p=a(10),x=a(0);function f(){var e=Object(h.g)(),t=Object(c.useContext)(m);Object(c.useEffect)((function(){}),[e]);var a=Object(h.f)(),n=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),document.cookie="auth-token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",a.push("/login");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("nav",{className:"navbar navbar-expand-lg navbar-".concat(t.mode," bg-").concat(t.mode),children:Object(x.jsxs)("div",{className:"container-fluid",children:[Object(x.jsx)(p.b,{className:"navbar-brand",to:"/",children:"Inote"}),Object(x.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(x.jsx)("span",{className:"navbar-toggler-icon"})}),Object(x.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(x.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(p.b,{className:"nav-link ".concat("/"===e.pathname?"active":""),"aria-current":"page",to:"/",children:"Home"})}),t.cookieExists("auth-token")?Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{className:"nav-link",onClick:n,children:"Logout"})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(p.b,{className:"nav-link ".concat("/login"===e.pathname?"active":""),to:"/login",children:"Login"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(p.b,{className:"nav-link ".concat("/signup"===e.pathname?"active":""),to:"/signup",children:"Signup"})})]})]})}),Object(x.jsxs)("div",{class:"form-check form-switch text-".concat("light"===t.mode?"dark":"light"),children:[Object(x.jsx)("input",{class:"form-check-input",type:"checkbox",role:"switch",onClick:t.togglemode,id:"flexSwitchCheckDefault",defaultChecked:"light"!=localStorage.getItem("theme")}),Object(x.jsx)("label",{class:"form-check-label",for:"flexSwitchCheckDefault",children:"Toggle Dark Mode"})]})]})})}var O=a(13);function v(e){var t=Object(c.useContext)(m),a=t.addnote,n=Object(c.useState)(1),s=Object(O.a)(n,2),r=(s[0],s[1],Object(h.f)());return Object(x.jsx)("div",{children:Object(x.jsxs)("form",{className:"my-3 needs-validation text-".concat("light"===t.mode?"dark":"light"),onSubmit:function(c){c.preventDefault(),a(document.getElementById("title").value,document.getElementById("desc").value,document.getElementById("topic").value),e.alert("Added Successfully","success"),document.getElementById("title").value="",document.getElementById("desc").value="",document.getElementById("topic").value="",r.push("/"),t.getnotes()},children:[Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Title"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"title","aria-describedby":"emailHelp",required:!0,minLength:5}),Object(x.jsx)("div",{className:"valid-feedback",children:"Looks good!"}),Object(x.jsx)("div",{class:"invalid-feedback",children:"Atleast Five characters Needed"})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Description"}),Object(x.jsx)("textarea",{class:"form-control",id:"desc",rows:"3",required:!0,minLength:5}),Object(x.jsx)("div",{class:"valid-feedback",children:"Looks good!"}),Object(x.jsx)("div",{class:"invalid-feedback",children:"Atleast Five characters Needed"})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Topic"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"topic",required:!0,minLength:3,maxLength:10}),Object(x.jsx)("div",{class:"valid-feedback",children:"Looks good!"}),Object(x.jsx)("div",{class:"invalid-feedback",children:"Atleast Five characters Needed"})]}),Object(x.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Add"})]})})}a(48);function g(e){var t=e.note,a=Object(c.useContext)(m),n=a.delNote,s=a.editnote,r=Object(c.useRef)(),l=Object(c.useRef)(),i=Object(c.useRef)(),o=new Date(t.datecreated);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"grid-item my-2",children:Object(x.jsxs)("div",{className:"card bg-".concat(a.mode," text-").concat("light"===a.mode?"dark":"light"),children:[Object(x.jsxs)("div",{class:"card-body",children:[Object(x.jsxs)("h5",{class:"card-title",children:[t.title," ",Object(x.jsx)("span",{class:"badge rounded-pill bg-info text-dark",children:t.topic})]}),Object(x.jsxs)("p",{class:"card-text",children:[t.description,Object(x.jsx)("i",{className:"far fa-trash-alt mx-2",onClick:function(){n(t._id),e.alert("Deleted Successfully","success")}}),Object(x.jsx)("i",{className:"fas fa-edit",onClick:function(){document.getElementById("etitle").value=t.title,document.getElementById("edesc").value=t.description,document.getElementById("etopic").value=t.topic,r.current.click()}})]})]}),Object(x.jsx)("div",{class:"card-footer text-muted",children:o.toLocaleString()})]})}),Object(x.jsx)("button",{ref:r,type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal",hidden:!0}),Object(x.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(x.jsx)("div",{class:"modal-dialog",children:Object(x.jsxs)("div",{class:"modal-content",children:[Object(x.jsxs)("div",{class:"modal-header",children:[Object(x.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Edit Note"}),Object(x.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(x.jsx)("div",{class:"modal-body",children:Object(x.jsxs)("form",{className:"my-3",onSubmit:function(a){a.preventDefault(),s(t._id,document.getElementById("etitle").value,document.getElementById("edesc").value,document.getElementById("etopic").value),i.current.click(),e.alert("Successfully updated","success")},children:[Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{className:"form-label",children:"Title"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"etitle","aria-describedby":"emailHelp",required:!0,minLength:5})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Description"}),Object(x.jsx)("textarea",{class:"form-control",id:"edesc",rows:"3",required:!0,minLength:5}),Object(x.jsx)("div",{class:"valid-feedback",children:"Looks good!"}),Object(x.jsx)("div",{class:"invalid-feedback",children:"Atleast Five characters Needed"})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{className:"form-label",children:"Topic"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"etopic",required:!0,minLength:3,maxLength:10})]}),Object(x.jsx)("button",{ref:l,type:"submit",className:"btn btn-dark",hidden:!0})]})}),Object(x.jsxs)("div",{class:"modal-footer",children:[Object(x.jsx)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",ref:i,children:"Cancel"}),Object(x.jsx)("button",{type:"button",class:"btn btn-primary",onClick:function(e){l.current.click()},children:"Edit"})]})]})})})]})}function y(e){var t=Object(c.useContext)(m),a=t.notes,n=t.getnotes;t.addnote;return Object(c.useEffect)((function(){n()}),[]),Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"grid text-".concat("light"===t.mode?"dark":"light"),"data-masonry":{percentPosition:!0},children:[Object(x.jsx)("h1",{children:"Your Notes"}),0===a.length&&Object(x.jsx)("div",{class:"alert alert-success",role:"alert",children:"No notes found"}),a.map((function(t){return Object(x.jsx)(g,{alert:e.alert,note:t},t._id)}))]})})}function k(e){var t=Object(h.f)(),a=Object(c.useContext)(m);return Object(c.useEffect)((function(){document.cookie||t.push("login")})),Object(x.jsxs)("div",{className:"container my-3 text-".concat("light"===a.mode?"dark":"light"),children:[Object(x.jsx)("h1",{children:"Add a note"}),Object(x.jsx)(v,{alert:e.alert}),Object(x.jsx)(y,{alert:e.alert})]})}function w(e){var t=Object(h.f)(),a=Object(c.useContext)(m),n=function(){var a=Object(o.a)(i.a.mark((function a(c){var n,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),n={email:document.getElementById("email").value,password:document.getElementById("password").value},a.next=4,fetch("http://localhost:5000/api/auth/login/",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),credentials:"include",body:JSON.stringify(n)});case 4:return s=a.sent,a.next=7,s.json();case 7:a.sent.status?t.push("/"):e.alert("Invalid Credentials","danger");case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(x.jsxs)("div",{class:"container my-3 text-".concat("light"===a.mode?"dark":"light"),children:[Object(x.jsx)("h2",{children:"Login to continue to Inote"}),Object(x.jsxs)("form",{onSubmit:n,children:[Object(x.jsxs)("div",{class:"mb-3",children:[Object(x.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Email address"}),Object(x.jsx)("input",{type:"email",class:"form-control",id:"email","aria-describedby":"emailHelp"})]}),Object(x.jsxs)("div",{class:"mb-3",children:[Object(x.jsx)("label",{for:"exampleInputPassword1",class:"form-label",children:"Password"}),Object(x.jsx)("input",{type:"password",class:"form-control",id:"password"})]}),Object(x.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Login"})]})]})}function N(e){var t=Object(h.f)(),a=Object(c.useContext)(m),n=function(){var a=Object(o.a)(i.a.mark((function a(c){var n,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),n={email:document.getElementById("email").value,name:document.getElementById("name").value,password:document.getElementById("password").value,repassword:document.getElementById("repassword").value},document.getElementById("password").value!==document.getElementById("repassword").value){a.next=12;break}return a.next=5,fetch("http://localhost:5000/api/auth/createu/",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(n)});case 5:return s=a.sent,a.next=8,s.json();case 8:a.sent.error?e.alert("A User With this name already exists","danger"):t.push("/login"),a.next=13;break;case 12:e.alert("Passwords dont match","danger");case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(x.jsxs)("div",{class:"container my-3 text-".concat("light"===a.mode?"dark":"light"),children:[Object(x.jsx)("h2",{children:"Signup to use Inote"}),Object(x.jsxs)("form",{onSubmit:n,children:[Object(x.jsxs)("div",{class:"mb-3",children:[Object(x.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Email address"}),Object(x.jsx)("input",{type:"email",class:"form-control",id:"email","aria-describedby":"emailHelp"})]}),Object(x.jsxs)("div",{class:"mb-3",children:[Object(x.jsx)("label",{for:"exampleInputEmail1",class:"form-label",children:"Name"}),Object(x.jsx)("input",{type:"etext",class:"form-control",id:"name","aria-describedby":"emailHelp"})]}),Object(x.jsxs)("div",{class:"mb-3",children:[Object(x.jsx)("label",{for:"exampleInputPassword1",class:"form-label",children:"Password"}),Object(x.jsx)("input",{type:"password",class:"form-control",id:"password"})]}),Object(x.jsxs)("div",{class:"mb-3",children:[Object(x.jsx)("label",{for:"exampleInputPassword1",class:"form-label",children:"Re-enter Password"}),Object(x.jsx)("input",{type:"password",class:"form-control",id:"repassword"})]}),Object(x.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Signup"})]})]})}function I(e){return Object(x.jsx)("div",{className:"container my-2",children:Object(x.jsx)("div",{children:e.alert&&Object(x.jsxs)("div",{className:"alert alert-".concat(e.alert.type," alert-dismissible fade show"),role:"alert",children:[Object(x.jsx)("strong",{children:function(e){"danger"===e&&(e="error");var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}(e.alert.type)}),": ",e.alert.msg]})})})}var C=function(e){var t=Object(c.useState)([]),a=Object(O.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(localStorage.getItem("theme")),l=Object(O.a)(r,2),d=l[0],b=l[1];var u=function(){var e=Object(o.a)(i.a.mark((function e(t,a,c){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:t,desc:a,topic:c},e.next=3,fetch("http://localhost:5000/api/notes/createn/",{method:"POST",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(n)});case 3:j();case 4:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/api/notes/fetchanotes/",{method:"GET",credentials:"include",headers:new Headers({"Content-Type":"application/json"})});case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.next=8,s(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/api/notes/deleten/".concat(t),{method:"DELETE",credentials:"include",headers:new Headers({"Content-Type":"application/json"})});case 2:e.sent,j();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(i.a.mark((function e(t,a,c,n){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={id:t,title:a,desc:c,topic:n},e.next=3,fetch("http://localhost:5000/api/notes/updaten/",{method:"POST",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(s)});case 3:j();case 4:case"end":return e.stop()}}),e)})));return function(t,a,c,n){return e.apply(this,arguments)}}();return Object(c.useEffect)(Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:case"end":return e.stop()}}),e)}))),[]),Object(x.jsx)(m.Provider,{value:{notes:n,addnote:u,delNote:h,getnotes:j,editnote:p,mode:d,togglemode:function(){"light"===d?(b("dark"),document.body.style.backgroundColor="black",localStorage.setItem("theme","dark")):(b("light"),document.body.style.backgroundColor="white",localStorage.setItem("theme","light"))},cookieExists:function(e){for(var t=document.cookie.split(";"),a=0;a<t.length;a++)if(t[a].split("=")[0].trim()==e)return!0}},children:e.children})},E=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var c;return Object(d.a)(this,a),(c=t.call(this,e)).showAlert=function(){var e=Object(o.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.setState({alert:{msg:t,type:a}}),setTimeout((function(){c.setState(null)}),3e3);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),c.state={alert:null},localStorage.getItem("theme")?"dark"==localStorage.getItem("theme")?document.body.style.backgroundColor="black":document.body.style.backgroundColor="white":(localStorage.setItem("theme","light"),document.body.style.backgroundColor="white"),c}return Object(b.a)(a,[{key:"render",value:function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(C,{children:Object(x.jsxs)(p.a,{children:[Object(x.jsx)(f,{}),Object(x.jsx)(I,{alert:this.state.alert}),Object(x.jsxs)(h.c,{children:[Object(x.jsx)(h.a,{exact:!0,path:"/",children:Object(x.jsx)(k,{alert:this.showAlert})}),Object(x.jsx)(h.a,{exact:!0,path:"/login",children:Object(x.jsx)(w,{alert:this.showAlert})}),Object(x.jsx)(h.a,{exact:!0,path:"/signup",children:Object(x.jsx)(N,{alert:this.showAlert})})]})]})})})}}]),a}(c.Component),S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(E,{})}),document.getElementById("root")),S()}},[[67,1,2]]]);
//# sourceMappingURL=main.7888c982.chunk.js.map